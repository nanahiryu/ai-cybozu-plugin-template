# 文言管理

## 基本方針

- 全ての文言は `src/i18n/*.json` で管理する
- コード内にハードコードしない
- E2Eテストでも同じ文言定義を使用する

## 文言追加の流れ

1. `src/i18n/ja.json` に文言を追加
2. `src/i18n/en.json` に対応する英語文言を追加
3. コードで `t("key.name")` で参照
4. E2Eテストでも `t("key.name")` で参照

## 命名規則

- キーは階層構造で管理（例: `config.save`, `errors.saveFailed`）
- 機能ごとにグループ化（`config`, `errors` など）

## 実装例

### Reactコンポーネントでの使用

```typescript
import { useTranslation } from "react-i18next";

export const ConfigPage = () => {
  const { t } = useTranslation();

  return (
    <div>
      <h1>{t("config.title")}</h1>
      <button>{t("config.save")}</button>
      <button>{t("config.cancel")}</button>
    </div>
  );
};
```

### E2Eテストでの使用

E2Eテストでは `tests/e2e/fixtures/i18n.ts` のヘルパーを使用します。

```typescript
import { test, expect } from "@playwright/test";
import { login } from "./helpers/auth";
import { t } from "./fixtures/i18n";

test.describe("プラグイン設定画面", () => {
  test("設定が保存される", async ({ page }) => {
    await login(page);

    // i18nから文言を取得
    await page.click(`button:has-text("${t("config.save")}")`);

    await expect(page.locator(".success-message")).toBeVisible();
  });
});
```

## 利点

- E2Eテスト実装時に文言が確定している
- テストと実装で同じ文言定義を参照できる
- 文言変更時の影響範囲が明確
- 多言語対応が容易になる
- 文言のレビューがしやすい（JSONファイルのみ確認）
